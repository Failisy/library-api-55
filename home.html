<script>
    async function loadPage() {
        await fetchContent(); // ✅ 컨텐츠를 먼저 로드
        if (typeof fetchBooks === "function") {
            setTimeout(fetchBooks, 500); // ✅ fetchBooks 실행
        } else {
            console.error("❌ fetchBooks 함수가 로드되지 않았습니다. script.js 경로를 확인하세요.");
        }
    }

    async function fetchContent() {
        const header = document.getElementById("header");
        const content = document.getElementById("content");
        
        if (header && content) {
            const [headerHTML, contentHTML] = await Promise.all([
                fetch("/library-api-55/partials/header.html").then(res => res.text()),
                fetch("/library-api-55/partials/home_content.html").then(res => res.text())
            ]);
            header.innerHTML = headerHTML;
            content.innerHTML = contentHTML;
        }
    }

    loadPage();
</script>

<!-- ✅ script.js를 올바르게 로드하도록 수정 -->
<script src="js/script.js"></script>
